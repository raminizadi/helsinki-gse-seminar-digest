<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HGSE Seminar Hub</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: #f5f5f5; color: #1a202c; min-height: 100vh; display: flex; flex-direction: column; }
    .header { background: #1a365d; color: #fff; padding: 32px 16px; text-align: center; }
    .header h1 { font-size: 24px; font-weight: 600; margin-bottom: 6px; }
    .header p { font-size: 15px; color: #cbd5e0; }
    .main { flex: 1; max-width: 520px; width: 100%; margin: -24px auto 0; padding: 0 16px 32px; position: relative; z-index: 1; }
    .card { background: #fff; border-radius: 8px; padding: 28px 28px 24px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); margin-bottom: 16px; }
    .card h2 { font-size: 18px; color: #1a365d; margin-bottom: 16px; }
    .features { list-style: none; margin-bottom: 20px; }
    .features li { padding: 6px 0; font-size: 15px; color: #4a5568; line-height: 1.5; padding-left: 24px; position: relative; }
    .features li::before { content: ""; position: absolute; left: 0; top: 12px; width: 8px; height: 8px; background: #ebf4ff; border: 2px solid #2b6cb0; border-radius: 50%; }
    input[type=email] { width: 100%; padding: 12px 14px; border: 1px solid #e2e8f0; border-radius: 6px; font-size: 16px; transition: border-color 0.15s, box-shadow 0.15s; }
    input[type=email]:focus { outline: none; border-color: #1a365d; box-shadow: 0 0 0 3px rgba(26,54,93,0.12); }
    button { background: #1a365d; color: #fff; border: none; padding: 13px 24px; border-radius: 6px; font-size: 16px; font-weight: 500; cursor: pointer; margin-top: 12px; width: 100%; transition: background 0.15s; }
    button:hover { background: #2a4a7f; }
    .schedule { text-align: center; font-size: 13px; color: #718096; margin-top: 12px; }

    /* Sample event preview */
    .preview-label { font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px; color: #a0aec0; margin-bottom: 10px; font-weight: 600; }
    .sample-card { border: 1px solid #e2e8f0; border-radius: 8px; padding: 16px; background: #fff; }
    .sample-badge { display: inline-block; background: #ebf4ff; color: #2b6cb0; font-size: 11px; padding: 2px 8px; border-radius: 4px; margin-bottom: 8px; }
    .sample-date { font-size: 12px; color: #718096; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px; }
    .sample-title { font-size: 15px; font-weight: 600; color: #1a202c; margin-bottom: 4px; line-height: 1.4; }
    .sample-meta { font-size: 13px; color: #4a5568; margin-bottom: 10px; }
    .sample-btns { display: flex; gap: 6px; flex-wrap: wrap; }
    .sample-btn { display: inline-block; padding: 6px 10px; border-radius: 4px; font-size: 11px; font-weight: 500; color: #fff; text-decoration: none; }
    .sample-btn.gcal { background: #4285f4; }
    .sample-btn.outlook { background: #0078d4; }
    .sample-btn.ics { background: #e2e8f0; color: #4a5568; }

    /* Calendar feeds */
    .feeds-list { display: flex; flex-direction: column; gap: 8px; }
    .feed-row { display: flex; justify-content: space-between; align-items: center; padding: 8px 12px; background: #f7fafc; border-radius: 6px; }
    .feed-name { font-size: 14px; color: #1a202c; font-weight: 500; }
    .feed-btns { display: flex; gap: 6px; }
    .feed-btn { font-size: 11px; text-decoration: none; font-weight: 500; padding: 4px 8px; border-radius: 4px; transition: opacity 0.15s; }
    .feed-btn:hover { opacity: 0.85; }
    .feed-btn.gcal { background: #4285f4; color: #fff; }
    .feed-btn.outlook { background: #0078d4; color: #fff; }
    .feed-btn.ics { background: #e2e8f0; color: #4a5568; }

    .footer { text-align: center; padding: 24px 16px 32px; font-size: 12px; color: #a0aec0; line-height: 1.8; }
    .footer a { color: #718096; text-decoration: underline; }

    /* Two-column layout on desktop */
    @media (min-width: 860px) {
      .main { max-width: 900px; display: grid; grid-template-columns: 1fr 1fr; gap: 16px; align-items: start; }
      .col { display: flex; flex-direction: column; gap: 16px; }
      .card { margin-bottom: 0; }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>HGSE Seminar Hub</h1>
    <p>Weekly digest &amp; calendar feeds for Helsinki GSE seminars</p>
  </div>

  <div class="main">
    <!-- Left column: Calendar feeds -->
    <div class="col">
      <div class="card">
        <h2>Calendar feeds</h2>
        <p style="font-size: 14px; color: #4a5568; margin-bottom: 14px; line-height: 1.5;">
          Subscribe to a seminar series and it shows up in your Google Calendar, Outlook, or Apple Calendar â€” updated every Monday.
        </p>
        <div class="feeds-list" id="feeds-list"></div>
        <p style="font-size: 12px; color: #a0aec0; margin-top: 12px; line-height: 1.5;">
          Click Google or Outlook to subscribe directly. The .ics link works with Apple Calendar and other apps.
        </p>
        <script>
          var feeds = [
            ["Microeconomics", "micro"],
            ["Environmental Economics", "environmental"],
            ["Behavioral Economics", "behavioral"],
            ["Industrial Organization", "io"],
            ["Colloquium", "colloquium"],
            ["VATT", "vatt"],
            ["Trade, Regional & Urban", "trade-urban"],
            ["Labor & Public Economics", "labor"]
          ];
          var base = location.origin + "/calendar/";
          var list = document.getElementById("feeds-list");
          feeds.forEach(function(f) {
            var icsUrl = base + f[1] + ".ics";
            var webcalUrl = icsUrl.replace("https://", "webcal://");
            var gcalUrl = "https://calendar.google.com/calendar/render?cid=" + encodeURIComponent(webcalUrl);
            var outlookUrl = "https://outlook.office.com/calendar/0/addfromweb?url=" + encodeURIComponent(icsUrl) + "&name=" + encodeURIComponent("HGSE: " + f[0]);
            var row = document.createElement("div");
            row.className = "feed-row";
            row.innerHTML = '<span class="feed-name">' + f[0] + '</span>'
              + '<div class="feed-btns">'
              + '<a class="feed-btn gcal" href="' + gcalUrl + '" target="_blank">Google</a>'
              + '<a class="feed-btn outlook" href="' + outlookUrl + '" target="_blank">Outlook</a>'
              + '<a class="feed-btn ics" href="' + icsUrl + '">.ics</a>'
              + '</div>';
            list.appendChild(row);
          });
        </script>
      </div>
    </div>

    <!-- Right column: Email digest -->
    <div class="col">
      <div class="card">
        <h2>Email digest</h2>
        <ul class="features">
          <li>This week's Helsinki GSE seminars in your inbox, every Monday at 08:00</li>
          <li>One-click Google Calendar, Outlook, and .ics buttons</li>
          <li>Great as a reminder and for checking out seminars not in your calendar</li>
          <li>Your first digest arrives immediately after confirming</li>
        </ul>
        <form method="POST" action="/subscribe">
          <input type="email" name="email" placeholder="your@email.com" required>
          <button type="submit">Subscribe</button>
        </form>
        <p class="schedule">Delivered every Monday &middot; Unsubscribe anytime</p>

        <!-- Sample preview -->
        <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #e2e8f0;">
          <p class="preview-label">Sample from a recent digest</p>
          <div class="sample-card">
            <span class="sample-badge">Environmental Economics</span>
            <p class="sample-date">MON 24 FEB, 12:15&ndash;13:15</p>
            <p class="sample-title">Environmental Economics Seminar: Benjamin Hattemer</p>
            <p class="sample-meta">Benjamin Hattemer (University of Mannheim)</p>
            <div class="sample-btns">
              <span class="sample-btn gcal">Google Calendar</span>
              <span class="sample-btn outlook">Outlook</span>
              <span class="sample-btn ics">.ics</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="footer">
    <p>Built by Ramin Izadi &middot; Not affiliated with Helsinki GSE</p>
    <p>
      <a href="https://github.com/raminizadi/helsinki-gse-seminar-digest" target="_blank">GitHub</a>
      &middot; <a href="https://github.com/raminizadi/helsinki-gse-seminar-digest/issues" target="_blank">Report a bug or request a feature</a>
    </p>
  </div>
</body>
</html>
